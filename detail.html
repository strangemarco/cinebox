<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CineBox | Detalle</title>

  <!-- CSS principal (el mismo de la home) -->
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>

<!-- ================= NAVBAR / HEADER ================= -->
<header class="header detail-header navbar">
  <div class="detail-header-top">

    <a href="index.html" class="logo" id="logoHome">
      <span class="logo-icon">ğŸ¬</span>
      <span class="logo-text">CineBox</span>
    </a>

    <button id="themeToggle" class="theme-btn" title="Cambiar tema">ğŸŒ™</button>
  </div>

  <p class="detail-subtitle">Detalle de la pelÃ­cula</p>

  <a href="index.html" class="back-link">â† Volver</a>
</header>


<!-- ================= CONTENIDO ================= -->
<main class="detail-container">
  <div class="detail-poster">
    <img id="poster" alt="Poster">
  </div>

  <div class="detail-info">
    <h2 id="title" class="detail-title"></h2>

    <div id="rating" class="detail-rating"></div>

    <div class="detail-meta" id="meta"></div>

    <p id="overview" class="detail-description"></p>

    <button id="trailerBtn" class="trailer-btn hidden">â–¶ Ver trÃ¡iler</button>

    <div id="trailerContainer" class="trailer-container hidden">
      <iframe
        id="trailerIframe"
        allowfullscreen
        allow="autoplay"
      ></iframe>
    </div>
  </div>
</main>

<script type="module">
  import { saveTheme, loadTheme } from "./storage.js";

  const themeBtn = document.getElementById("themeToggle");

  const savedTheme = loadTheme();
  if (savedTheme === "light") {
    document.body.classList.add("light");
    themeBtn.textContent = "ğŸŒ";
  }

  themeBtn.addEventListener("click", () => {
    document.body.classList.toggle("light");

    const isLight = document.body.classList.contains("light");
    saveTheme(isLight ? "light" : "dark");

    themeBtn.textContent = isLight ? "ğŸŒ" : "ğŸŒ™";
  });
</script>



<script>
  document.getElementById("logoHome")?.addEventListener("click", () => {
    sessionStorage.removeItem("cinebox_state");
  });
</script>


<script type="module" src="theme.js"></script>
<script type="module" src="detail.js"></script>


</body>
</html>
